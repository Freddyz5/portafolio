<a id="translate" class="nav-link" >
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7" /><path d="M7 4c0 4.846 0 7 .5 8" /><path d="M10 8.5c0 2.286 -2 4.5 -3.5 4.5s-2.5 -1.135 -2.5 -2c0 -2 1 -3 3 -3s5 .57 5 2.857c0 1.524 -.667 2.571 -2 3.143" /><path d="M12 20l4 -9l4 9" /><path d="M19.1 18h-6.2" /></svg>
</a>

<script>
  const translations = {
    "en": {
      "nav-bar":{
        "about": "About",
        "experience": "Experience",
        "projects": "Projects",
        "contact": "Contact"
      },
      "home": {
        "subTitle": "FRONT-END DEVELOPER",
        "button": "Contact me!"
      },
      "about": {
        "title": "About",
        "body": "I am passionate about creating and have a peculiar interest in knowing how things work, which led me to the world of web development. Since then, I have accepted the challenge and commitment to be a constantly evolving self-taught learner.",
        "body1": "I have experience in front-end technologies such as HTML, CSS, JavaScript, TypeScript, and React, and I have collaborated on various projects using frameworks like NextJs and Astro.",
        "body2": "When I'm not in the digital world, I consider myself a video game enthusiast, I enjoy extreme sports like skateboarding and mountain biking, and I express my creativity through drawing and music.",
      },
      "experience": {
        "title": "Experience",
        "company1": "Init Grammers",
        "time1": "Octubre 2023 - Actualmente",
        "position1": "Junior Developer",
        "functions11": "- Creation and maintenance of attractive and functional user interfaces, with a responsive approach, thus ensuring compatibility with different devices and browsers.",
        "functions12": "- Performing functional and usability tests to identify and correct errors in the code.",
        "functions13": "- Consumption of GraphQL APIs to obtain and display dynamic data in the web application.",
      },
      "projects":{
        "title": "Projects",
        "cardTitle1": "Digital platform for pharmacists",
        "cardBody1": "I am collaborating on a digital platform created for the daily management of pharmacies.",
        "cardTitle2": "Product Landing Page",
        "cardBody2": "Crafting a captivating landing page for showcasing a standout product and driving conversions.",
        "cardTitle3": "Dark Souls Fan Page",
        "cardBody3": "Designing an immersive landing page for a dynamic video game, enticing players to explore its virtual realm.",
        "cardTitle4": "Random Quote Machine",
        "cardBody4": "Delivering inspiration and wisdom with each click.",
        "technologies": "Technologies"
      },
      "contact":{
        "title": "Let's work together..."
      },
      "footer":{
        "title": "With help of and inspired by "
      }
    },
    "es": {
      "nav-bar":{
        "about": "Sobre mi",
        "experience": "Experiencia",
        "projects": "Proyectos",
        "contact": "Contacto"
      },
      "home": {
        "subTitle": "DESARROLLADOR  FRONT-END",
        "button": "Contáctame!"
      },
      "about": {
        "title": "Sobre mi",
        "body": "Soy apasionado por crear y tengo un peculiar interes por saber el funcionamiento de las cosas, lo cual me condujo al mundo del desarrollo web. Desde entonces, he aceptado el desafío y el compromiso de ser un aprendiz autodidacta en constante evolución.",
        "body1": "Tengo experiencia en tecnologías front-end como HTML, CSS, JavaScript, TypeScript y React, y he colaborado en diversos proyectos utilizando frameworks como NextJs y Astro.",
        "body2": "Cuando no estoy en el mundo digital, me considero un entusiasta de los videojuegos, disfruto de deportes extremos como el skateboarding y el mountain biking, y expreso mi creatividad a través del dibujo y la música.",
      },
      "experience": {
        "title": "Experiencia",
        "company1": "Init Grammers",
        "time1": "Octubre 2023 - Actualmente",
        "position1": "Desarrollador junior",
        "functions11": "- Creación y mantenimiento de interfaces de usuario atractivas y funcionales, con un enfoque responsice asegurando así su compatibilidad con diferentes dispositivos y navegadores.",
        "functions12": "- Realización de pruebas funcionales y de usabilidad para identificar y corregir errores en el código.",
        "functions13": "- Consumo de APIs GraphQL para obtener y mostrar datos dinámicos en la aplicación web.",
      },
      "projects": {
        "title": "Proyectos",
        "cardTitle1": "Plataforma digital para farmacéuticos",
        "cardBody1": "Estoy colaborando en una plataforma digital creada para la gestión diaria de las farmacias.",
        "cardTitle2": "Landing page de Producto",
        "cardBody2": "Creación de una landing page cautivadora para mostrar un producto destacado y aumentar las interacciones.",
        "cardTitle3": "Fan page de Dark Souls",
        "cardBody3": "Diseño de una landing page inmersiva para un videojuego del cual soy mut fan, atrayendo a los jugadores a explorar su mundo virtual.",
        "cardTitle4": "Máquina de Frases Aleatorias",
        "cardBody4": "Entregando inspiración y sabiduría con cada clic.",
        "technologies": "Tecnologías"
        },
      "contact":{
        "title": "Trabajemos juntos..."
      },
      "footer":{
        "title": "Con la ayuda de, e inspirado por "
      }
    }
  }

  const userIdiom = navigator.language.split('-')[0];

  const translateButton = document.getElementById("translate")
  const textsToChange = document.querySelectorAll("[data-section]");
  let translateClicked = userIdiom === "en" ? 1 : 0;

  const changeLenguage = async lenguage => {
    // const requestJson = await fetch(`../src/languages/${lenguage}.json`)
    // const texts = await requestJson.json()

    const texts = translations[lenguage];

    for (const textToChange of textsToChange){
      const textToChangeElement = textToChange as HTMLElement;
      const section = textToChangeElement.dataset.section;
      const value = textToChangeElement.dataset.value;

      textToChange.innerHTML = texts[section!][value!]
    }
  }

  translateButton?.addEventListener("click", (e) => {
    if (translateClicked === 1) {
      translateClicked = 0;
      changeLenguage("es")
    } else {
      translateClicked = 1;
      changeLenguage("en")
    }
  })

  window.onload = () => {
    changeLenguage(userIdiom)
  }

</script>
<style>
  .nav-link {
    text-decoration: none;
    display: flex;
    align-items: center;
    color: #FFF7ED;
    font-weight: 500;
    padding: 0.2em 0.4em;
    border-radius: 5px;
    border: 1px solid #141414;
    transition: 300ms;
    cursor: pointer;
  }
  .nav-link:hover{
    border: 1px solid #FFF7ED;
    background: rgba(255, 247, 237, 0.10);
    box-shadow: 0px 0px 10px 0px rgba(255, 247, 237, 0.50);
    scale: 1.1;
    transition: 300ms;
  }
</style>